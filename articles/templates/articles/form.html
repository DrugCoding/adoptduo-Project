{% extends 'base.html' %}
{% load django_bootstrap5 %}
{% load static %}
{% block content %}
  <link rel="stylesheet" href="{% static 'css/dog_cat_form.css' %}">
  <div class="container my-5 rounded">
    {% if request.resolver_match.url_name == 'dog_create' %}
      <!--resolver_match = 어떤 url을 통해서 왔는지 검사하는 인스턴스, 따라서 create url로 왔는지 여부를 검사 -->
      <h1 class="text-center my-5 mx-auto fw-bold">강아지 글 작성</h1>
    {% else %}
      <h1 class="text-center my-5 mx-auto fw-bold">강아지 글 수정</h1>
    {% endif %}

    <form action="" method="POST" enctype="multipart/form-data" style="width:40%; margin:0 auto">
      {% csrf_token %}
      {% bootstrap_form dog_article_form %}
      {% bootstrap_button button_type="submit" button_class="detail_btn btn-lg container mt-3" content="작성완료"%}
    </form>

    <div id="map" class="mt-5" style="width:40%;height:350px; margin:0 auto"></div>
    <p class="text-center mt-2">
      <em>마커를 드래그 해주세요!</em>
    </p>

    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=e6496a8841e6155cd7af237e16b93602"></script>
    <script>
      var mapContainer = document.getElementById('map'), // 지도를 표시할 div
        mapOption = {
          center: new kakao
            .maps
            .LatLng(33.450701, 126.570667), // 지도의 중심좌표
          level: 3 // 지도의 확대 레벨
        };

      var map = new kakao
        .maps
        .Map(mapContainer, mapOption); // 지도를 생성합니다

      // 마커가 표시될 위치입니다
      var markerPosition = new kakao
        .maps
        .LatLng(33.450701, 126.570667);

      // 마커를 생성합니다
      var marker = new kakao
        .maps
        .Marker({position: markerPosition});

      // 마커가 지도 위에 표시되도록 설정합니다
      marker.setMap(map);

      // 마커가 드래그 가능하도록 설정합니다
      marker.setDraggable(true);
    </script>
  </div>
{% endblock %}