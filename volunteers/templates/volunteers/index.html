{% extends 'base.html' %}
{% load static %}
{% block content %}
  <link rel="stylesheet" href="{% static 'css/volunteers.css' %}">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..21,100..700,0..1,-50..200"/>
  <div class="volunteers-banner opacity-75">
    <div class="banner-text">
      <h2>건강한 반려문화의 시작</h2>
      <p>평생을 함께해 주세요</p>
    </div>
  </div> 
  <div class="volunteers-post-section container my-5 ">
      <marquee behavior="scroll" scrolldelay="60" direction="" loop="-1">
        <div class="d-flex row row-cols-5 container">
          {% for use in user %}
            {% if use.volunteer_c == "가능" %}
              <div class="animated-title">
                <div class="col track ">
                  <a style="text-decoration:none;" href="{% url 'accounts:detail' use.pk %}">
                    <div class="card h-100 content " style="border-radius: 10px;" id="animatedBackground">
                      {% if use.image %}
                        <img src="{{ use.image.url }}" class="card-img-top"  alt="...">
                        {% else %}
                        <img src="{% static 'images/unknown_image.jpg' %}" style="border-radius: 10px;" alt="">
                      {% endif %}
                    </div>
                  </a>
                </div>
              </div>
            {% endif %}
          {% endfor %}
        </div>
      </div>
    </marquee>
  </div>
   <div class="d-flex container justify-content-end my-3">
    {% if request.user.is_authenticated %}
      <a href="{% url 'volunteers:create' %}">
        <button class=" btn btn-outline-warning">글작성</button>
      </a>
    {% else %}
      <a href="{% url 'accounts:login' %}">
        <button class="btn btn-outline-warning">글작성</button>
      </a>
    {% endif %}
  </div>
  <div class="layout" >
    <div>
      <main id="wrap" class="wrap-list">
        <section class="container">
          <div role="main" class="contents">
            <div class="articles-list">
              {% for vol in v_articles %}
                <div class="articles-list-pre ">
                  <div class="title">
                    <h3>
                      <a href="{% url 'volunteers:detail' vol.pk %}">
                        {{ vol.title | truncatechars:30 }}
                      </a>
                    </h3>
                    <p>
                      <a href="{% url 'volunteers:detail' vol.pk %}">
                        {{ vol.content | safe | truncatechars:80 }}
                      </a>
                    </p>
                  </div>
                  <div class="sub">
                    <span class="text-end area">
                      <a href="" class="area-font">
                        #{{ vol.area }} ~ {{ vol.adopt_location }}
                      </a>
                     <a href="" class="adobt-font">
                      #{{ vol.adopt_date }}
                     </a>
                    </span>
                    <p class="name ">
                      <a href="{% url 'volunteers:detail' vol.pk %}">
                        {{ vol.user.username }}
                      </a>
                    </p>
                    <div class="wrap-info">
                      <a href="{% url 'volunteers:detail' vol.pk %}" class="view">
                        <i class="blind">
                          <span class="material-symbols-outlined">
                            visibility
                          </span>
                        </i>
                        {{ vol.hits }}
                      </a>
                      <a class="like" href="{% url 'volunteers:detail' vol.pk %}">
                        <i class="icon icon-comments_count">
                          <span class="material-symbols-outlined">
                            thumb_up
                          </span>
                        </i>
                        {{ vol.like.all | length }}
                      </a> 
                      <span class="text-end" style="font-size:13px;">
                        <a href="{% url 'volunteers:detail' vol.pk %}">
                          {{ vol.created_at | time }}
                        </a>
                      </span>
                    </div>
                  </div>
                </div>
              {% endfor %}
            </div>
          </div>
        </section> 
      </main>
    </div>
  </div>
  <!-- 글작성 버튼 -->
  <div class="d-flex justify-content-center">
    {% if request.user.is_authenticated %}
      {% if request.user.volunteer_c == '가능' %}
        <a href="{% url 'volunteers:create' %}">
          <button>글작성</button>
        </a>
      {% else %}
        <p>이동봉사 지원자만 글을 작성할 수 있습니다</p>
      {% endif %}
    {% else %}
    <a href="{% url 'accounts:login' %}">
      <button>글작성</button>
    </a>
    {% endif %}
  </div>
  <nav aria-label="Page navigation example" class="nav-page mt-5 mb-2">

    <ul class="pagination">
      <li class="page-item">
        <a class="page-link text-black-50" href="#" aria-label="Previous">
          <span aria-hidden="true">&laquo;</span>
        </a>
      </li>
      <li class="page-item">
        <a class="page-link text-black-50" href="#">1</a>
      </li>
      <li class="page-item">
        <a class="page-link text-black-50" href="#">2</a>
      </li>
      <li class="page-item">
        <a class="page-link text-black-50" href="#">3</a>
      </li>
      <li class="page-item">
        <a class="page-link text-black-50" href="#">4</a>
      </li>
      <li class="page-item">
        <a class="page-link text-black-50" href="#">5</a>
      </li>
      <li class="page-item">
        <a class="page-link text-black-50" href="#" aria-label="Next">
          <span aria-hidden="true">&raquo;</span>
        </a>
      </li>
    </ul>
  </nav>

{% endblock content %}